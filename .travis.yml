sudo: false
language: node_js
notifications:
  email: false
node_js:
  - 'node'
  - '7'
  - '6'
  - '4'
before_script:
  - npm prune
script:
  - 'if [ -n "${LINTONLY-}" ]; then npm run lint; else npm run cover && npm run check-coverage; fi'
after_success:
  - npm run travis-after-all
matrix:
  include:
    - node_js: "node"
      env: LINTONLY=true
branches:
  only:
    - master
